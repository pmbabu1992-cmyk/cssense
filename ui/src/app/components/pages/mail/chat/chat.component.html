<app-page-header [title]="'Chat'"
  [items]="['Mail']"
  [active_item]="'Chat'"
 />

<!-- Start::row-1 -->
<div class="row main-chart-wrapper">
  <div class="col-sm-12 col-md-12 col-lg-5 col-xl-3">
    <div class="card custom-card">
      <div class="main-content-app pt-0">
        <div class="main-content-left main-content-left-chat">
          <ul
            ngbNav
            #nav="ngbNav"
            class="nav nav-pills nav-style-3 border-bottom px-2 pt-2"
            role="tablist"
          >
            <li [ngbNavItem]="1" class="nav-item" role="presentation">
              <a
                ngbNavLink
                class="nav-link"
                data-bs-toggle="tab"
                role="tab"
                aria-current="page"
                aria-selected="true"
                >Recent Chat</a
              >
              <ng-template ngbNavContent>
                <div class="p-0 border-0 active" id="recent-chat">
                  <div class="chat-users-tab" id="chat-msg-scroll">
                    @for (chat of chatList; track $index) {
                      <div class="main-chat-list">
                        <a class="media" [class.selected]="chat.selected">
                          <div class="main-img-user" [ngClass]="{ 'online': chat.status === 'online' }">
                            <img alt="" [src]="chat.img" />
                            @if (chat.unreadMessages > 0) {
                            <span >{{ chat.unreadMessages }}</span>
                            }
                          </div>
                          <div class="media-body">
                            <div class="media-contact-name flex-wrap">
                              <span>{{ chat.name }}</span>
                              <span class="ps-2">{{ chat.time }}</span>
                            </div>
                            <p>{{ chat.message }}</p>
                          </div>
                        </a>
                      </div>
                      
                  }
                    <!-- main-chat-list -->
                  </div>
                </div>
              </ng-template>
            </li>
            <li [ngbNavItem]="2" class="nav-item" role="presentation">
              <a
                ngbNavLink
                class="nav-link"
                data-bs-toggle="tab"
                role="tab"
                aria-current="page"
                aria-selected="false"
                tabindex="-1"
                >Groups</a
              >
              <ng-template ngbNavContent>
                <div class="p-0 border-0" id="groups">
                  <div class="chat-groups-tab" id="groups-tab-pane">
                    @for ( chat of chatList1; track $index) {
                    <a class="d-flex align-items-center media">
                      <div class="mb-0 me-2">
                        <div class="main-img-user" [ngClass]="{ 'online': chat.status === 'online' }">
                          <img alt="" [src]="chat.img" />
                          @if (chat.unreadMessages > 0) {
                          <span>{{ chat.unreadMessages }}</span>
                          }
                        </div>
                      </div>
                      <div class="align-items-center justify-content-between">
                        <div class="media-body ms-2">
                          <div class="media-contact-name flex-wrap">
                            <span>{{ chat.name }}</span>
                            <span></span>
                          </div>
                          <div class="d-flex align-items-center">
                            @if (chat.callType === 'outgoing') {
                            <i class="fe fe-arrow-up-right text-success me-2"></i>
                            }
                            @if (chat.callType === 'incoming') {
                            <i class="fe fe-arrow-down-left text-danger me-2" ></i>
                            }
                            @if (chat.callType === 'video') {
                            <i class="fe fe-arrow-down-left text-danger me-2"></i>
                            }
                            @if (chat.callType === 'phone-call') {
                              <i class="fe fe-arrow-down-left text-danger me-2"></i>
                              }
                            <p class="text-muted tx-13">{{ chat.time }}</p>
                          </div>
                        </div>
                      </div>
                      <div class="ms-auto">
                        <i [class]="chat.callStatus" [ngClass]="{ 'text-success': chat.status === 'online', 'text-danger': chat.status === 'offline' }"></i>
                      </div>
                    </a>
                  }
                  </div>
                  
                </div>
              </ng-template>
            </li>
            <li [ngbNavItem]="3" class="nav-item" role="presentation">
              <a
                ngbNavLink
                class="nav-link"
                data-bs-toggle="tab"
                role="tab"
                aria-current="page"
                aria-selected="false"
                tabindex="-1"
                >Calls</a
              >
              <ng-template ngbNavContent>
                <div class="p-0 border-0" id="calls">
                  <div id="calls-tab-pane" class="chat-calls-tab">
                    @for (group of chatGroups; track $index) {
                    <a class="d-flex align-items-center media">
                      <div class="mb-0 me-2">
                        <div class="main-img-user" [class.online]="group.status === 'online'">
                          <img [src]="group.image" alt="" />
                          <span>{{ group.unreadMessages }}</span>
                        </div>
                      </div>
                      <div class="align-items-center justify-content-between">
                        <div class="media-body ms-2">
                          <div class="media-contact-name flex-wrap">
                            <span>{{ group.name }}</span>
                            <span></span>
                          </div>
                          <div class="d-flex align-items-center">
                            <i class="fe fe-arrow-up-right text-success me-2"></i>
                            <p class="text-muted tx-13">{{ group.timestamp }}</p>
                          </div>
                        </div>
                      </div>
                      <div class="ms-auto">
                        <i class="contact-status text-primary fe fe-message-square me-2"></i>
                        <i class="contact-status text-success fe fe-phone-call me-2" ></i>
                        <i class="contact-status text-danger fe fe-video"></i>
                      </div>
                    </a>
                  }
                  </div>
                </div>
                
              </ng-template>
            </li>
          </ul>
          <div class="tab-content main-chat-list chat-tab" [ngbNavOutlet]="nav"></div>
        </div>
      </div>
    </div>
  </div>
  <div class="col-sm-12 col-md-12 col-lg-7 col-xl-6">
    <div class="card custom-card">
      <div class="main-content-app pt-0">
        <div class="main-content-body main-content-body-chat">
          <div class="main-chat-header pt-3">
            <div class="main-img-user online">
              <img alt="avatar" src="./assets/images/faces/9.jpg" />
            </div>
            <div class="main-chat-msg-name ms-2">
              <h6 class="mb-0 fs-15 fw-semibold">Reynante Labares</h6>
              <span class="dot-label bg-success"></span
              ><small class="me-3 fs-12 text-muted"
                >Last seen: 2 minutes ago</small
              >
            </div>
            <nav ngbDropdown class="nav chat-res-dropdown">
              <a
                ngbDropdownToggle
                class="nav-link d-lg-none no-caret"
                href="javascript:void(0);"
                data-bs-toggle="dropdown"
                role="button"
                aria-haspopup="true"
                aria-expanded="false"
                ><i class="fe fe-more-horizontal"></i>
              </a>
              <div
                ngbDropdownMenu
                class="dropdown-menu dropdown-menu-end shadow"
              >
                <a ngbDropdownItem class="dropdown-item" 
                  ><i class="fe fe-phone-call me-1"></i> Phone Call</a
                >
                <a ngbDropdownItem class="dropdown-item"
                  ><i class="fe fe-video me-1"></i> Video Call</a
                >
                <a ngbDropdownItem class="dropdown-item"
                  ><i class="fe fe-user-plus me-1"></i> Add Contact</a
                >
                <a ngbDropdownItem class="dropdown-item"
                  ><i class="fe fe-trash-2 me-1"></i> Delete</a
                >
              </div>
              <a
                class="nav-link d-lg-block d-none"
                data-bs-toggle="tooltip"
                href="javascript:void(0);"
                placement="top"
                ngbTooltip="Phone Call"
                ><i class="fe fe-phone-call"></i
              ></a>
              <a
                class="nav-link d-lg-block d-none"
                data-bs-toggle="tooltip"
                href="javascript:void(0);"
                placement="top"
                ngbTooltip="Video Call"
                ><i class="fe fe-video"></i
              ></a>
              <a
                class="nav-link d-lg-block d-none"
                data-bs-toggle="tooltip"
                href="javascript:void(0);"
                placement="top"
                ngbTooltip="Add Contact"
                ><i class="fe fe-user-plus"></i
              ></a>
              <a
                class="nav-link d-lg-block d-none"
                data-bs-toggle="tooltip"
                href="javascript:void(0);"
                placement="top"
                ngbTooltip="Delete"
                ><i class="fe fe-trash-2"></i
              ></a>
            </nav>
          </div>
          <!-- main-chat-header -->
          <div class="main-chat-body overflow-auto" id="ChatBody">
            <div class="content-inner chat-content" id="main-chat-content">
              <label class="main-chat-time"><span>3 days ago</span></label>
              <div class="media flex-row-reverse">
                <div class="main-img-user online">
                  <img alt="avatar" src="./assets/images/faces/9.jpg" />
                </div>
                <div class="media-body">
                  <div class="main-msg-wrapper right">
                    Nulla consequat massa quis enim. Donec pede justo, fringilla
                    vel...
                  </div>
                  <div class="main-msg-wrapper">
                    rhoncus ut, imperdiet a, venenatis vitae, justo...
                  </div>
                  <div>
                    <span>9:48 am</span>
                    <a href="javascript:void(0);"
                      ><i class="icon ion-android-more-horizontal"></i
                    ></a>
                  </div>
                </div>
              </div>
              <div class="media">
                <div class="main-img-user online">
                  <img alt="avatar" src="./assets/images/faces/6.jpg" />
                </div>
                <div class="media-body">
                  <div class="main-msg-wrapper left">
                    Lorem ipsum dolor sit amet, consectetuer adipiscing elit.
                    Aenean commodo ligula eget dolor.
                  </div>
                  <div>
                    <span>9:32 am</span>
                    <a href="javascript:void(0);"
                      ><i class="icon ion-android-more-horizontal"></i
                    ></a>
                  </div>
                </div>
              </div>
              <div class="media flex-row-reverse">
                <div class="main-img-user online">
                  <img alt="avatar" src="./assets/images/faces/9.jpg" />
                </div>
                <div class="media-body">
                  <div class="main-msg-wrapper right">
                    Nullam dictum felis eu pede mollis pretium
                  </div>
                  <div>
                    <span>11:22 am</span>
                    <a href="javascript:void(0);"
                      ><i class="icon ion-android-more-horizontal"></i
                    ></a>
                  </div>
                </div>
              </div>
              <label class="main-chat-time"><span>Yesterday</span></label>
              <div class="media">
                <div class="main-img-user online">
                  <img alt="avatar" src="./assets/images/faces/6.jpg" />
                </div>
                <div class="media-body">
                  <div class="main-msg-wrapper left">
                    Lorem ipsum dolor sit amet, consectetuer adipiscing elit.
                    Aenean commodo ligula eget dolor.
                  </div>
                  <div>
                    <span>9:32 am</span>
                    <a href="javascript:void(0);"
                      ><i class="icon ion-android-more-horizontal"></i
                    ></a>
                  </div>
                </div>
              </div>
              <div class="media flex-row-reverse">
                <div class="main-img-user online">
                  <img alt="avatar" src="./assets/images/faces/9.jpg" />
                </div>
                <div class="media-body">
                  <div class="main-msg-wrapper right">
                    Donec quam felis, ultricies nec, pellentesque eu, pretium
                    quis, sem. Nulla consequat massa quis enim. Donec pede
                    justo, fringilla vel, aliquet nec. In enim justo, rhoncus
                    ut, imperdiet a, venenatis vitae, justo.
                  </div>
                  <div class="main-msg-wrapper">
                    Nullam dictum felis eu pede mollis pretium
                  </div>
                  <div>
                    <span>9:48 am</span>
                    <a href="javascript:void(0);"
                      ><i class="icon ion-android-more-horizontal"></i
                    ></a>
                  </div>
                </div>
              </div>
              <label class="main-chat-time"><span>Today</span></label>
              <div class="media">
                <div class="main-img-user online">
                  <img alt="avatar" src="./assets/images/faces/6.jpg" />
                </div>
                <div class="media-body">
                  <div class="main-msg-wrapper left">
                    Maecenas tempus, tellus eget condimentum rhoncus
                  </div>
                  <div class="pd-0">
                    <img
                      alt="avatar"
                      class="wd-100 rounded-3 mb-1 me-1"
                      src="./assets/images/media/media-82.jpg"
                    />
                    <img
                      alt="avatar"
                      class="wd-100 rounded-3 mb-1 me-1"
                      src="./assets/images/media/media-84.jpg"
                    />
                    <img
                      alt="avatar"
                      class="wd-100 rounded-3 mb-1"
                      src="./assets/images/media/media-83.jpg"
                    />
                  </div>
                  <div>
                    <span>10:12 am</span>
                    <a href="javascript:void(0);"
                      ><i class="icon ion-android-more-horizontal"></i
                    ></a>
                  </div>
                </div>
              </div>
              <div class="media flex-row-reverse">
                <div class="main-img-user online">
                  <img alt="avatar" src="./assets/images/faces/9.jpg" />
                </div>
                <div class="media-body">
                  <div class="main-msg-wrapper right">
                    Maecenas tempus, tellus eget condimentum rhoncus
                  </div>
                  <div class="main-msg-wrapper">
                    Nam quam nunc, blandit vel, luctus pulvinar, hendrerit id,
                    lorem. Maecenas nec odio et ante tincidunt tempus. Donec
                    vitae sapien ut libero venenatis faucibus.
                  </div>
                  <div>
                    <span>09:40 am</span>
                    <a href="javascript:void(0);"
                      ><i class="icon ion-android-more-horizontal"></i
                    ></a>
                  </div>
                </div>
              </div>
            </div>
          </div>
          <div class="main-chat-footer rounded-0">
            <input
              class="form-control"
              placeholder="Type your message here..."
              type="text"
            />
            <a class="main-msg-clip me-2" href="javascript:void(0);"
              ><i class="fe fe-paperclip"></i
            ></a>
            <a class="main-msg-send" href="javascript:void(0);"
              ><i class="fe fe-send"></i
            ></a>
          </div>
        </div>
      </div>
    </div>
  </div>
  <div class="col-sm-12 col-md-12 col-lg-12 col-xl-3">
    <div class="card custom-card chat-account">
      <div class="main-content-app d-block pt-0">
        <div class="chat-user-details overflow-auto" id="chat-user-details">
            <div class="card-body text-center">
              <div class="user-lock text-center">
                <cs-dropdowns [Customclass]="'dropdown text-end'" [Icon]="true" [IconClass]="'fe fe-more-vertical fs-16'"
                [class]="'option-dots text-muted no-caret p-0 border-0'" [Menuclass]="'dropdown-menu dropdown-menu-end'">
                    <a ngbDropdownItem class="dropdown-item" href="javascript:;"
                      ><i class="fe fe-message-square me-2"></i> Message</a
                    >
                    <a ngbDropdownItem class="dropdown-item" href="javascript:;"
                      ><i class="fe fe-edit-2 me-2"></i> Edit</a
                    >
                    <a ngbDropdownItem class="dropdown-item" href="javascript:;"
                      ><i class="fe fe-eye me-2"></i> View</a
                    >
                    <a ngbDropdownItem class="dropdown-item" href="javascript:;"
                      ><i class="fe fe-trash-2 me-2"></i> Delete</a
                    >
                </cs-dropdowns>
                <a routerLink="/pages/profile"
                  ><img
                    alt="avatar"
                    class="rounded-circle"
                    src="./assets/images/faces/2.jpg"
                /></a>
              </div>
              <a routerLink="/pages/profile"
                ><h5 class="mb-1 mt-3 fs-17">Ryan Gracie</h5></a
              >
              <p class="mb-0 fs-13 text-muted">Web Designer</p>
            </div>
            <div class="card-body">
              <h6 class="mb-3">Contact Details</h6>
              <div class="d-flex">
                <div>
                  <p class="contact-icon text-primary m-0">
                    <i class="fe fe-phone"></i>
                  </p>
                </div>
                <div class="ms-3">
                  <p class="tx-13 mb-0">Phone</p>
                  <p class="fs-12 text-muted">+1 135792468</p>
                </div>
              </div>
              <div class="d-flex">
                <div>
                  <p class="contact-icon text-primary m-0">
                    <i class="fe fe-mail"></i>
                  </p>
                </div>
                <div class="ms-3">
                  <p class="tx-13 mb-0">Email</p>
                  <p class="fs-12 text-muted">harvey&#64;gmail.com.</p>
                </div>
              </div>
              <div class="d-flex">
                <div>
                  <p class="contact-icon text-primary m-0">
                    <i class="fe fe-map-pin"></i>
                  </p>
                </div>
                <div class="ms-3">
                  <p class="tx-13 mb-0">Address</p>
                  <p class="fs-12 text-muted mb-0">California.</p>
                </div>
              </div>
            </div>
            <div class="card-body">
              <h6 class="mb-3">Shared Files</h6>
              <div class="media mb-3">
                <p class="contact-icon rounded-1 fs-17 text-primary m-0">
                  <i class="mdi mdi-file-image"></i>
                </p>
                <div class="media-body ms-3 d-flex">
                  <div class="">
                    <p class="tx-13 text-dark mb-0">Image1.jpg</p>
                    <span class="fs-12 text-muted">200 KB</span>
                  </div>
                  <div class="ms-auto my-auto">
                    <a href="javascript:void(0);" class="btn px-0 border-0"
                      ><i class="fe fe-download my-auto text-muted tx-18"></i
                    ></a>
                  </div>
                </div>
              </div>
              <div class="media mb-3">
                <p class="contact-icon rounded-1 fs-17 text-danger m-0">
                  <i class="mdi mdi-file-pdf"></i>
                </p>
                <div class="media-body ms-3 d-flex">
                  <div class="">
                    <p class="tx-13 text-dark mb-0">Doc1.pdf</p>
                    <span class="fs-12 text-muted">48 KB</span>
                  </div>
                  <div class="ms-auto my-auto">
                    <a href="javascript:void(0);" class="btn px-0 border-0"
                      ><i class="fe fe-download my-auto text-muted tx-18"></i
                    ></a>
                  </div>
                </div>
              </div>
              <div class="media mb-3">
                <p class="contact-icon rounded-1 fs-17 text-info m-0">
                  <i class="mdi mdi-file-word"></i>
                </p>
                <div class="media-body ms-3 d-flex">
                  <div class="">
                    <p class="tx-13 text-dark mb-0">Word1.doc</p>
                    <span class="fs-12 text-muted">35 KB</span>
                  </div>
                  <div class="ms-auto my-auto">
                    <a href="javascript:void(0);" class="btn px-0 border-0"
                      ><i class="fe fe-download my-auto text-muted tx-18"></i
                    ></a>
                  </div>
                </div>
              </div>
              <div class="media">
                <p class="contact-icon rounded-1 fs-17 text-warning m-0">
                  <i class="mdi mdi-file-powerpoint"></i>
                </p>
                <div class="media-body ms-3 d-flex">
                  <div class="">
                    <p class="tx-13 text-dark mb-0">Example1.ppt</p>
                    <span class="fs-12 text-muted">54 KB</span>
                  </div>
                  <div class="ms-auto my-auto">
                    <a href="javascript:void(0);" class="btn px-0 border-0"
                      ><i class="fe fe-download my-auto text-muted tx-18"></i
                    ></a>
                  </div>
                </div>
              </div>
            </div>
        </div>
      </div>
    </div>
  </div>
</div>
<!--End::row-1 -->
